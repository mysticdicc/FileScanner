<ui:FluentWindow x:Class="FileScanner.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:FileScanner"
        xmlns:ui="http://schemas.lepo.co/wpfui/2022/xaml" 
        mc:Ignorable="d"
        Title="File Scanner" Height="550" Width="900" Foreground="#FFC0C4C4" Background="#FF272927" Icon="/videofolderblank_99341.png">

    <ui:FluentWindow.Resources>
        <DataTemplate x:Key="CenteredHeaderTemplate">
            <Grid Width="{Binding RelativeSource={RelativeSource AncestorType=MenuItem}, Path=ActualWidth}" Height="{Binding RelativeSource={RelativeSource AncestorType=MenuItem}, Path=ActualHeight}">
                <TextBlock Text="{Binding}"  HorizontalAlignment="Center" VerticalAlignment="Center" TextAlignment="Center"/>
            </Grid>
        </DataTemplate>

    </ui:FluentWindow.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="30px"/>
            <RowDefinition Height="5px"/>
            <RowDefinition Height="40px"/>
            <RowDefinition Height="44px"/>
            <RowDefinition/>
            <RowDefinition Height="40px"/>
            <RowDefinition Height="5px"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="5px"/>
            <ColumnDefinition Width="33.288"/>
            <ColumnDefinition Width="366.712"/>
            <ColumnDefinition Width="65*"/>
            <ColumnDefinition Width="24*"/>
            <ColumnDefinition Width="41*"/>
            <ColumnDefinition Width="5px"/>
        </Grid.ColumnDefinitions>

        <ui:TitleBar Grid.ColumnSpan="7" Background="#FF363A36" VerticalAlignment="Top"/>

        <Grid Grid.ColumnSpan="5" Grid.Row="2" Grid.Column="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>

            <ui:Button Name="btnOpenPermissions" Content="Permissions" Margin="2" Grid.Column="0" Click="btnPermissions_Click" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Background="#FF363A36" Foreground="#FFC0C4C4"/>

            <ui:Button Name="btnReports" Content="Reports" Margin="2" Grid.Column="1" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Background="#FF363A36" Foreground="#FFC0C4C4" Click="BtnReports_Click">
                <ui:Button.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Personal Drives" IsCheckable="True" Name="MenuReportPersonal" StaysOpenOnClick="True" />
                        <MenuItem Header="File Length" IsCheckable="True" Name="MenuReportLength" StaysOpenOnClick="True"  />
                        <MenuItem Header="Hidden Files" IsCheckable="True" Name="MenuReportHidden" StaysOpenOnClick="True"  />
                        <MenuItem Header="Access Denied" IsCheckable="True" Name="MenuReportAccess" StaysOpenOnClick="True"  />
                        <MenuItem Header="Permissions" IsCheckable="True" Name="MenuReportPerms" StaysOpenOnClick="True"  />
                        <MenuItem Header="All Files" IsCheckable="True" Name="MenuReportAll" StaysOpenOnClick="True"  />
                        <MenuItem Header="Generate" Click="MenuGenerateClicked"/>
                    </ContextMenu>
                </ui:Button.ContextMenu>
            </ui:Button>

            <ui:Button Name="btnFixes" Content="Fixes" Margin="2" Grid.Column="2" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Background="#FF363A36" Foreground="#FFC0C4C4" Click="BtnFixes_Click">
                <ui:Button.ContextMenu>
                    <ContextMenu>
                        <MenuItem Header="Access Denied" Click="FixesPermissions"  />
                        <MenuItem Header="Hidden Files" Click="FixesHidden"  />
                    </ContextMenu>
                </ui:Button.ContextMenu>
            </ui:Button>

            <Label Content="Hidden:"  Margin="2" Grid.Column="3" VerticalAlignment="Center" Foreground="#FFC0C4C4" HorizontalAlignment="Right" />
            <Label Name="lblCurrentFileHidden"  Grid.Column="4" Margin="2" VerticalAlignment="Center" Foreground="#FFC0C4C4" HorizontalAlignment="Left" />
            <Label Content="Length:"  Margin="2" Grid.Column="5" VerticalAlignment="Center" Foreground="#FFC0C4C4" HorizontalAlignment="Right" />
            <Label Name="lblCurrentPathLength"  Margin="2" Grid.Column="6" VerticalAlignment="Center" Foreground="#FFC0C4C4" HorizontalAlignment="Left" />
            <ui:Button Icon="{ui:SymbolIcon Symbol=Settings24}" Grid.Column="7" HorizontalAlignment="Right" Foreground="#FFC0C4C4" Margin="0,0,2,0" Background="#FF363A36" Click="BtnSettings_Click"/>
        </Grid>

        <ui:TextBox Grid.Row="3" Grid.Column="1" Grid.ColumnSpan="3" Margin="2,4,2,4" Name="txtFilePath" PlaceholderText="Enter file path..." Background="#FF363A36" Foreground="#FFC0C4C4" SelectionTextBrush="#FFC0C4C4"/>
        <ui:Button Grid.Row="3" Grid.Column="4" Margin="2,4,2,4" Name="btnFileSearch" Click="btnFileSearch_Click" Content="Start File Scan" Grid.ColumnSpan="2"  Background="#FF363A36" Foreground="#FFC0C4C4" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>

        <TreeView Grid.Row="4" Grid.Column="1" Grid.ColumnSpan="5" Name="treeFolderView" DataContext="{x:Type local:View}" Foreground="#FFC0C4C4" Margin="2,2,2,2"  >
            <TreeView.Resources>
                <HierarchicalDataTemplate DataType="{x:Type local:FolderView}" ItemsSource="{Binding Views}">
                    <StackPanel Orientation="Horizontal">
                        <Image Name="img" Source="{Binding IconPath}" Width="20" Height="20" Stretch="Fill"/>
                        <TextBlock Text="{Binding Name}" Margin="5,0"/>
                    </StackPanel>
                </HierarchicalDataTemplate>
                <DataTemplate DataType="{x:Type local:FileView}">
                    <StackPanel Orientation="Horizontal">
                        <Image Name="img" Source="{Binding IconPath}" Width="20" Height="20" Stretch="Fill"/>
                        <TextBlock Text="{Binding Name}" Margin="5,0"/>
                    </StackPanel>
                </DataTemplate>
            </TreeView.Resources>
            <TreeView.Background>
                <SolidColorBrush Color="#FF363A36"/>
            </TreeView.Background>
        </TreeView>

        <Grid Grid.ColumnSpan="5" Grid.Row="4" Grid.Column="1" Margin="0,370,0,0" Grid.RowSpan="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>

            <TextBlock Name="txtStatus" Grid.Column="0" Grid.Row="4" Grid.ColumnSpan="3" VerticalAlignment="Center" Foreground="#FFC0C4C4" Margin="2"/>
            <Label Content="Total Size:" Grid.Column="3" Margin="2" Foreground="#FFC0C4C4" VerticalAlignment="Center" HorizontalAlignment="Right" />
            <Label Name="lblTotalSize" Grid.Column="4" Margin="2" Foreground="#FFC0C4C4" VerticalAlignment="Center" HorizontalAlignment="Left" />
            <Label Content="Total Count:" Grid.Column="5" Margin="2" Foreground="#FFC0C4C4" VerticalAlignment="Center" HorizontalAlignment="Right" />
            <Label Name="lblTotalCount"  Grid.Column="6" Margin="2" Foreground="#FFC0C4C4" VerticalAlignment="Center" HorizontalAlignment="Left" />
            <Label Name="lblRunTimer" Margin="2" Grid.Column="7"  Grid.ColumnSpan="2" Foreground="#FFC0C4C4" VerticalAlignment="Center" HorizontalAlignment="Right" />
        </Grid>
    </Grid>
</ui:FluentWindow>
